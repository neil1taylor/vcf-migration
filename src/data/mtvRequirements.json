{
  "version": "2.6",
  "checks": {
    "tools-installed": {
      "id": "tools-installed",
      "name": "VMware Tools Installed",
      "description": "VMware Tools must be installed for warm migration and guest customization",
      "category": "tools",
      "severity": "blocker",
      "remediation": "Install VMware Tools via vCenter",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "tools-running": {
      "id": "tools-running",
      "name": "VMware Tools Running",
      "description": "VMware Tools should be running for optimal migration",
      "category": "tools",
      "severity": "warning",
      "remediation": "Start VMware Tools service in the guest OS",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "no-snapshots": {
      "id": "no-snapshots",
      "name": "No Active Snapshots",
      "description": "Snapshots should be consolidated before migration",
      "category": "storage",
      "severity": "warning",
      "remediation": "Consolidate or delete snapshots in vCenter",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "old-snapshots": {
      "id": "old-snapshots",
      "name": "No Old Snapshots",
      "description": "Snapshots older than 30 days must be consolidated",
      "category": "storage",
      "severity": "blocker",
      "remediation": "Delete or consolidate old snapshots before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "cd-disconnected": {
      "id": "cd-disconnected",
      "name": "CD-ROM Disconnected",
      "description": "CD-ROM drives must be disconnected (no ISO mounted)",
      "category": "hardware",
      "severity": "warning",
      "remediation": "Disconnect CD-ROM drive in vCenter VM settings",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "hw-version": {
      "id": "hw-version",
      "name": "Hardware Version Compatible",
      "description": "VM hardware version 10 or later required (14+ recommended)",
      "category": "config",
      "severity": "warning",
      "thresholds": {
        "minimum": 10,
        "recommended": 14
      },
      "remediation": "Upgrade VM hardware version in vCenter (requires VM shutdown)",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "no-rdm": {
      "id": "no-rdm",
      "name": "No Raw Device Mappings",
      "description": "RDM disks cannot be migrated directly and must be converted",
      "category": "storage",
      "severity": "blocker",
      "remediation": "Convert RDM disks to VMDK before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "no-shared-disks": {
      "id": "no-shared-disks",
      "name": "No Shared/Multi-Writer Disks",
      "description": "Shared disks are not supported in OpenShift Virtualization",
      "category": "storage",
      "severity": "blocker",
      "remediation": "Redesign shared disk architecture before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "no-pci-passthrough": {
      "id": "no-pci-passthrough",
      "name": "No PCI/GPU Passthrough",
      "description": "PCI passthrough and GPU devices are not supported",
      "category": "hardware",
      "severity": "blocker",
      "remediation": "Remove PCI passthrough devices; consider alternative solutions for GPU workloads",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "network-adapter": {
      "id": "network-adapter",
      "name": "Network Adapter Compatible",
      "description": "VMXNET3 adapter recommended; E1000/E1000E are legacy",
      "category": "network",
      "severity": "info",
      "remediation": "Upgrade to VMXNET3 adapter for better performance",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "no-usb": {
      "id": "no-usb",
      "name": "No USB Devices",
      "description": "USB controllers and devices have limited support",
      "category": "hardware",
      "severity": "warning",
      "remediation": "Remove USB controllers if not required",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "cbt-enabled": {
      "id": "cbt-enabled",
      "name": "Changed Block Tracking (CBT) Not Enabled",
      "description": "CBT must be enabled for warm migration to track disk changes incrementally",
      "category": "storage",
      "severity": "warning",
      "remediation": "Enable CBT in VM settings: Edit Settings > VM Options > Advanced > Changed Block Tracking",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "cbt-warm-migration": {
      "id": "cbt-warm-migration",
      "name": "CBT Required for Warm Migration",
      "description": "Warm migration requires CBT to be enabled on powered-on VMs for incremental data transfer",
      "category": "storage",
      "severity": "warning",
      "remediation": "Enable CBT before attempting warm migration, or use cold migration instead",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "vm-name-rfc1123": {
      "id": "vm-name-rfc1123",
      "name": "VM Name Not RFC 1123 Compliant",
      "description": "VM names must be valid DNS subdomain names: lowercase, max 63 chars, only alphanumeric and hyphens, cannot start/end with hyphen",
      "category": "config",
      "severity": "warning",
      "remediation": "Rename VM to a valid DNS name or configure a custom name during migration",
      "documentationLink": "https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#dns-subdomain-names"
    },
    "cpu-hot-plug": {
      "id": "cpu-hot-plug",
      "name": "CPU Hot Plug Enabled",
      "description": "CPU hot add/remove is not supported in OpenShift Virtualization - VMs will be configured with fixed CPU",
      "category": "config",
      "severity": "warning",
      "remediation": "Review CPU requirements; hot plug will be disabled post-migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "memory-hot-plug": {
      "id": "memory-hot-plug",
      "name": "Memory Hot Plug Enabled",
      "description": "Memory hot add/remove is not supported in OpenShift Virtualization - VMs will be configured with fixed memory",
      "category": "config",
      "severity": "warning",
      "remediation": "Review memory requirements; hot plug will be disabled post-migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "independent-disk": {
      "id": "independent-disk",
      "name": "Independent Disk Mode",
      "description": "Disks in independent mode (persistent or nonpersistent) cannot be transferred by MTV",
      "category": "storage",
      "severity": "blocker",
      "remediation": "Change disk mode from Independent to Dependent before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "hostname-missing": {
      "id": "hostname-missing",
      "name": "Hostname Missing or Invalid",
      "description": "Guest hostname is empty, missing, or set to localhost.localdomain which may cause issues post-migration",
      "category": "config",
      "severity": "warning",
      "remediation": "Configure a proper hostname in the guest OS before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "static-ip-powered-off": {
      "id": "static-ip-powered-off",
      "name": "Static IP Requires Powered On VM",
      "description": "Static IP preservation requires VMware Tools running, which needs the VM to be powered on",
      "category": "network",
      "severity": "warning",
      "remediation": "Power on VM before migration if static IP preservation is required",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "memory-balloon": {
      "id": "memory-balloon",
      "name": "Memory Ballooning Active",
      "description": "VM has active memory ballooning indicating memory pressure on the host",
      "category": "compute",
      "severity": "warning",
      "remediation": "Review memory allocation; ballooned VMs may need memory adjustment before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "large-memory-vm": {
      "id": "large-memory-vm",
      "name": "Large Memory VM (>2TB)",
      "description": "VMs with very large memory configurations may require special handling during migration",
      "category": "compute",
      "severity": "warning",
      "remediation": "Plan for extended migration windows; consider memory optimization before migration",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "very-large-memory-vm": {
      "id": "very-large-memory-vm",
      "name": "Very Large Memory VM (>6TB)",
      "description": "VMs exceeding 6TB memory are at platform limits and require careful migration planning",
      "category": "compute",
      "severity": "blocker",
      "remediation": "Verify target platform supports this memory size; may need architecture redesign",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "large-host-cores": {
      "id": "large-host-cores",
      "name": "Large Core Count Host (>64 cores)",
      "description": "Host has more than 64 cores which may affect NUMA topology during migration",
      "category": "compute",
      "severity": "info",
      "remediation": "Review NUMA configuration and CPU pinning requirements for migrated VMs",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "very-large-host-cores": {
      "id": "very-large-host-cores",
      "name": "Very Large Core Count Host (>128 cores)",
      "description": "Host has more than 128 cores - verify target platform compatibility",
      "category": "compute",
      "severity": "warning",
      "remediation": "Verify target bare metal nodes can accommodate similar core counts",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "cluster-ha-risk": {
      "id": "cluster-ha-risk",
      "name": "Cluster HA Risk (<3 hosts)",
      "description": "Cluster has fewer than 3 hosts which limits HA capabilities",
      "category": "infrastructure",
      "severity": "warning",
      "remediation": "Plan target cluster sizing with minimum 3 nodes for proper HA",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    },
    "esxi-eol": {
      "id": "esxi-eol",
      "name": "ESXi Version End of Life",
      "description": "Host is running an end-of-life ESXi version",
      "category": "infrastructure",
      "severity": "warning",
      "remediation": "Consider upgrading ESXi before migration for best compatibility",
      "documentationLink": "https://lifecycle.vmware.com"
    },
    "appliance-detected": {
      "id": "appliance-detected",
      "name": "Virtual Appliance Detected",
      "description": "VM appears to be a virtual appliance (OVA) which may require special handling",
      "category": "config",
      "severity": "info",
      "remediation": "Review appliance migration strategy; may need vendor-specific migration path",
      "documentationLink": "https://docs.openshift.com/container-platform/latest/virt/virtual_machines/importing_vms/virt-importing-vmware-vm.html"
    }
  },
  "workflowPhases": [
    {
      "phase": 1,
      "name": "Analysis",
      "description": "Assess VMware environment compatibility and identify migration candidates",
      "activities": [
        "Run RVTools export",
        "Upload to analyzer",
        "Review MTV pre-flight results",
        "Identify blockers and remediation steps"
      ]
    },
    {
      "phase": 2,
      "name": "Preparation",
      "description": "Resolve blockers and prepare VMs for migration",
      "activities": [
        "Consolidate snapshots",
        "Disconnect CD-ROMs",
        "Convert RDM to VMDK",
        "Install/update VMware Tools",
        "Upgrade hardware versions if needed"
      ]
    },
    {
      "phase": 3,
      "name": "Migration",
      "description": "Execute migration waves using MTV operator",
      "activities": [
        "Deploy MTV operator in OpenShift",
        "Configure VMware provider",
        "Create migration plans",
        "Execute wave migrations",
        "Monitor migration progress"
      ]
    },
    {
      "phase": 4,
      "name": "Validation",
      "description": "Verify migrated VMs and complete cutover",
      "activities": [
        "Verify VM functionality",
        "Test application connectivity",
        "Update DNS/load balancers",
        "Decommission source VMs"
      ]
    }
  ],
  "scoringWeights": {
    "toolsStatus": 15,
    "snapshotStatus": 15,
    "hardwareVersion": 10,
    "storageConfig": 20,
    "networkConfig": 10,
    "osCompatibility": 20,
    "specialHardware": 10
  }
}
