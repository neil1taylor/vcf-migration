// Metric card styles - consistent across all pages
@use '@carbon/styles/scss/spacing';
@use '@carbon/styles/scss/type';

.metric-card {
  display: flex;
  flex-direction: column;
  padding: spacing.$spacing-04;
  background-color: var(--cds-layer-01, #f4f4f4);
  border-radius: 4px;
  border-left: 4px solid var(--cds-border-subtle-01, #e0e0e0);
  height: calc(100% - spacing.$spacing-05);
  min-height: 100px;
  margin-bottom: spacing.$spacing-05;
  position: relative;

  // Clickable variant
  &--clickable {
    cursor: pointer;
    transition: background-color 0.15s ease, box-shadow 0.15s ease;

    &:hover {
      background-color: var(--cds-layer-hover-01, #e8e8e8);
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);

      .metric-card__nav-arrow {
        opacity: 1;
        color: var(--cds-link-primary, #0f62fe);
        transform: translateX(2px);
      }
    }

    &:focus {
      outline: 2px solid var(--cds-focus, #0f62fe);
      outline-offset: -2px;
    }
  }

  // Variant colors
  &--default {
    border-left-color: var(--cds-border-subtle-01, #e0e0e0);
  }

  &--primary {
    border-left-color: #0f62fe; // Blue
  }

  &--success {
    border-left-color: #24a148; // Green
  }

  &--warning {
    border-left-color: #f1c21b; // Yellow
  }

  &--error {
    border-left-color: #da1e28; // Red
  }

  &--info {
    border-left-color: #1192e8; // Cyan
  }

  &--purple {
    border-left-color: #8a3ffc; // Purple
  }

  &--teal {
    border-left-color: #009d9a; // Teal
  }

  // Highlighted variant (for important metrics like totals)
  &--highlight {
    background-color: var(--cds-layer-accent-01, #e0e0e0);
    border-left-width: 6px;

    .metric-card__value {
      @include type.type-style('heading-04');
      color: var(--cds-text-primary, #161616);
    }
  }

  &__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: spacing.$spacing-02;
  }

  &__label {
    @include type.type-style('label-01');
    color: var(--cds-text-secondary, #525252);
    display: block;
    flex: 1;
  }

  &__info-button {
    background: none;
    border: none;
    padding: 0;
    margin: 0;
    cursor: pointer;
    color: var(--cds-text-secondary, #525252);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    margin-left: spacing.$spacing-02;

    &:hover {
      color: var(--cds-link-primary, #0f62fe);
    }

    &:focus {
      outline: 2px solid var(--cds-focus, #0f62fe);
      outline-offset: 2px;
    }
  }

  &__doc-link {
    @include type.type-style('label-01');
    color: var(--cds-link-primary, #0f62fe);
    text-decoration: underline;
    margin-top: spacing.$spacing-02;
    display: inline-block;

    &:hover {
      color: var(--cds-link-primary-hover, #0043ce);
    }
  }

  &__value-container {
    display: flex;
    align-items: center;
    gap: spacing.$spacing-02;
  }

  &__status-icon {
    flex-shrink: 0;

    &--success {
      color: #24a148; // Green
    }

    &--warning {
      color: #f1c21b; // Yellow
    }

    &--error {
      color: #da1e28; // Red
    }
  }

  &__value {
    @include type.type-style('heading-03');
    color: var(--cds-text-primary, #161616);
    margin-bottom: spacing.$spacing-02;
    display: block;
  }

  &__detail {
    @include type.type-style('helper-text-01');
    color: var(--cds-text-secondary, #525252);
    display: block;
    margin-top: auto; // Push detail to bottom
  }

  &__nav-arrow {
    position: absolute;
    bottom: spacing.$spacing-03;
    right: spacing.$spacing-03;
    opacity: 0.5;
    color: var(--cds-text-secondary, #525252);
    transition: opacity 0.15s ease, color 0.15s ease, transform 0.15s ease;
    display: flex;
    align-items: center;
  }
}

// Visually hidden - for screen readers only
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
